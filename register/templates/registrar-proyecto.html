
{% extends "base.html" %}

{% block title %} Registrar Proyecto - PRISM DSS {% endblock %}

    {% block extra_css %}
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/registrar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% endblock %}
</head>

{% block content %}
    

        <!-- Main Content -->
        <main class="main-content" id="mainContent">
            <div class="content-header">
                <h2>{% block module %} Registrar Nuevo Proyecto {% endblock %}</h2>
                <div class="breadcrumb">
                    <span>Inicio</span> / <span class="active">{% block current_page %} Registrar Proyecto {% endblock %}</span>
                </div>
            </div>

            <!-- Formulario de Registro -->
            <div class="form-container">
                <form id="projectForm" action="" method="post">
                    {% csrf_token %}
                    <!-- Sección Información Básica -->
                    <div class="form-section">
                        <h3><i class="fas fa-info-circle"></i> Información Básica</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="projectName">{{form.project_name.label}}</label>
                                {{form.project_name}}
                            </div>
                            
                            <div class="form-group">
                                <label for="projectType">{{form.project_type.label}}</label>
                                {{form.project_type}}
                            </div>
                            
                            <div class="form-group">
                                <label for="projectStatus">{{form.project_status.label}}</label>
                                {{form.project_status}}
                            </div>
                            
                            <div class="form-group">
                                <label for="projectBudget">{{form.project_budget.label}}</label>
                                <div class="input-group">
                                    <!-- esta es el input de la moneda -->
                                    {{form.project_budget}}
                                    <!-- esta es el select de las unidades de la moneda -->
                                    {{form.project_budget_unit}}
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="projectDuration">{{form.project_duration.label}}</label>
                                <div class="input-group">
                                    {{form.project_duration}}
                                    {{form.project_duration_unit}}
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="projectLocation">{{form.project_location.label}}</label>
                                {{form.project_location}}
                            </div>
                            
                            <div class="form-group">
                                <label for="staffCount">{{form.staffCount.label}}</label>
                                {{form.staffCount}}
                            </div>
                        </div>
                        
                        <div class="form-group full-width">
                            <label for="projectDescription">{{form.project_description.label}}</label>
                            {{form.project_description}}
                        </div>
                    </div>
                    
                    <!-- Sección de Riesgos -->
                    <div class="form-section">
                        <h3><i class="fas fa-exclamation-triangle"></i> Identificación de Riesgos</h3>
                        <div class="risk-container" id="risksContainer">
                            <!-- Los riesgos se agregarán dinámicamente aquí -->
                            <div class="risk-item" data-risk-id="1">
                                <div class="risk-header">
                                    <h4>Riesgo #1</h4>
                                    <button type="button" class="btn btn-remove-risk">
                                        <i class="fas fa-times"></i> Eliminar
                                    </button>
                                </div>
                                <div class="form-grid">
                                    <div class="form-group">
                                        <label for="riskDescription1">{{form.riskDescription.label}}</label>
                                        {{form.riskDescription}}
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="riskMitigation1">{{form.riskMitigation.label}}</label>
                                        {{form.riskMitigation}}
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="riskProbability1">{{form.riskProbability.label}}</label>
                                        {{form.riskProbability}}
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="riskImpact1">{{form.riskImpact.label}}</label>
                                        {{form.riskImpact}}
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" class="btn btn-add-risk" id="addRiskBtn">
                            <i class="fas fa-plus"></i> Agregar Riesgo
                        </button>
                    </div>
                    
                    <!-- Botones del Formulario -->
                    <div class="form-actions">
                        <button type="button" class="btn btn-cancel" id="cancelBtn">
                            <i class="fas fa-times"></i> Cancelar
                        </button>
                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-save"></i> Guardar Proyecto
                        </button>
                    </div>
                </form>
            </div>
        </main>
    </div>
{% endblock %}

{% block extra_js %}
    {% load static %}
    <script src="{% static 'scripts.js' %}"></script>
    <script src="{% static 'js/registrar.js' %}"></script>
{% endblock %}
</html>